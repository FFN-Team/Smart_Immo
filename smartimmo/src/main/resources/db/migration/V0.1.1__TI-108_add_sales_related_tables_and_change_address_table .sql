CREATE TABLE IF NOT EXISTS area
(
    id_area           SERIAL PRIMARY KEY,
    area_name         VARCHAR(255),
    area_surface_area DOUBLE PRECISION
);

ALTER TABLE address
    ADD COLUMN flat_number INT,
    ADD COLUMN floor INT,
    ADD COLUMN fk_area INT,
        ADD CONSTRAINT fk_address_area FOREIGN KEY (fk_area) REFERENCES area (id_area);

CREATE TABLE IF NOT EXISTS sales_history
(
    id_sales_history  SERIAL PRIMARY KEY,
    date_of_sale      DATE,
    price             DOUBLE PRECISION,
    fk_property_owner INT,
    FOREIGN KEY (fk_property_owner) REFERENCES property_owner (id_property_owner)
);


INSERT INTO area (area_name, area_surface_area)
VALUES ('Area 1', 1000000.0),
       ('Area 2', 1000000.0),
       ('Area 3', 1000000.0),
       ('Area 4', 1000000.0),
       ('Area 5', 1000000.0),
       ('Area 6', 1000000.0);

UPDATE address
SET flat_number = id_address, floor = id_address, fk_area = id_address;

INSERT INTO street (street_name, street_surface_area)
VALUES ('Avenue des Champs-Élysées', 14000.0),
       ('Rue de la Paix', 2500.5),
       ('Boulevard Saint-Germain', 12000.75),
       ('Rue de Rivoli', 9800.25),
       ('Avenue Montaigne', 8500.8),
       ('Boulevard Haussmann', 15000.2),
       ('Rue du Faubourg Saint-Honoré', 7300.4),
       ('Avenue Marceau', 6600.9),
       ('Rue de la Pompe', 4800.7),
       ('Boulevard de la Villette', 18000.3),
       ('Rue de la Roquette', 4200.6),
       ('Avenue de Clichy', 8900.1),
       ('Rue de la Convention', 5500.2),
       ('Boulevard de l''Indépendance', 11200.5),
       ('Rue du Cherche-Midi', 6100.8),
       ('Avenue de Wagram', 9700.6),
       ('Rue de la Chapelle', 5200.3),
       ('Boulevard de Belleville', 14000.9),
       ('Rue Saint-Antoine', 6200.4),
       ('Avenue de l''Opéra', 10200.7);

INSERT INTO address (flat_number, floor, street_number, fk_street, fk_area, fk_city)
-- Numéro de rue différent, même rue, même secteur, même ville qu'adresse 1
VALUES (1, 1, 11, 1, 1, 1),
       (1, 1, 21, 1, 1, 1),
       (1, 1, 31, 1, 1, 1),
       (1, 1, 41, 1, 1, 1),
       (1, 1, 51, 1, 1, 1),
-- Numéro de rue différent, même rue, même secteur, même ville qu'adresse 2
       (1, 1, 14, 2, 2, 1),
       (1, 1, 24, 2, 2, 1),
       (1, 1, 34, 2, 2, 1),
       (1, 1, 44, 2, 2, 1),
       (1, 1, 54, 2, 2, 1),
-- Numéro de rue différent, même rue, même secteur, même ville qu'adresse 3
       (1, 1, 12, 3, 3, 1),
       (1, 1, 22, 3, 3, 1),
       (1, 1, 32, 3, 3, 1),
       (1, 1, 42, 3, 3, 1),
       (1, 1, 52, 3, 3, 1),
-- Numéro de rue différent, même rue, même secteur, même ville qu'adresse 4
       (1, 1, 19, 4, 4, 1),
       (1, 1, 29, 4, 4, 1),
       (1, 1, 39, 4, 4, 1),
       (1, 1, 49, 4, 4, 1),
       (1, 1, 59, 4, 4, 1),
-- Numéro de rue différent, Rue différente, même secteur, même ville qu'adresse 1
       (1, 1, 19, 7, 1, 1),
       (1, 1, 29, 8, 1, 1),
       (1, 1, 39, 9, 1, 1),
       (1, 1, 49, 10, 1, 1),
       (1, 1, 59, 11, 1, 1),
-- Numéro de rue différent, Rue différente, même secteur, même ville qu'adresse 2
       (1, 1, 19, 12, 2, 1),
       (1, 1, 29, 13, 2, 1),
       (1, 1, 39, 14, 2, 1),
       (1, 1, 49, 15, 2, 1),
       (1, 1, 59, 16, 2, 1),
-- Numéro de rue différent, Rue différente, même secteur, même ville qu'adresse 3
       (1, 1, 19, 17, 3, 1),
       (1, 1, 29, 18, 3, 1),
       (1, 1, 39, 19, 3, 1),
       (1, 1, 49, 20, 3, 1),
       (1, 1, 59, 21, 3, 1),
-- Numéro de rue différent, Rue différente, même secteur, même ville qu'adresse 4
       (1, 1, 19, 22, 4, 1),
       (1, 1, 29, 23, 4, 1),
       (1, 1, 39, 24, 4, 1),
       (1, 1, 49, 25, 4, 1),
       (1, 1, 59, 26, 4, 1),
-- Même numéro de rue, même rue, même secteur, même ville qu'adresse 1
       (2, 2, 1, 1, 1, 1),
       (3, 3, 1, 1, 1, 1),
       (4, 4, 1, 1, 1, 1),
       (5, 5, 1, 1, 1, 1),
       (6, 6, 1, 1, 1, 1),
-- Même numéro de rue, même rue, même secteur, même ville qu'adresse 2
       (1, 1, 4, 2, 2, 1),
       (3, 3, 4, 2, 2, 1),
       (4, 4, 4, 2, 2, 1),
       (5, 5, 4, 2, 2, 1),
       (6, 6, 4, 2, 2, 1),
-- Même numéro de rue, même rue, même secteur, même ville qu'adresse 3
       (1, 1, 2, 3, 3, 1),
       (2, 2, 2, 3, 3, 1),
       (4, 4, 2, 3, 3, 1),
       (5, 5, 2, 3, 3, 1),
       (6, 6, 2, 3, 3, 1),
-- Même numéro de rue, même rue, même secteur, même ville qu'adresse 4
       (1, 1, 9, 4, 4, 1),
       (2, 2, 9, 4, 4, 1),
       (3, 3, 9, 4, 4, 1),
       (5, 5, 9, 4, 4, 1),
       (6, 6, 9, 4, 4, 1);

INSERT INTO property (property_name, description, room_number, livable_area, fk_address)
VALUES ('Appartement 2', 'Bel appartement proche du Louvre', 3, 80.5, 7),
       ('Appartement 3', 'Charmant studio dans le Marais', 1, 40.2, 8),
       ('Appartement 4', 'Spacieux duplex avec terrasse', 4, 120.8, 9),
       ('Appartement 5', 'Studio lumineux près de Montmartre', 1, 45.0, 10),
       ('Appartement 6', 'Appartement moderne avec vue sur la Seine', 2, 65.7, 11),
       ('Appartement 7', 'Duplex élégant avec jardin privé', 5, 150.0, 12),
       ('Appartement 8', 'Joli appartement à deux pas de Notre-Dame', 3, 85.2, 13),
       ('Appartement 9', 'Appartement familial avec aire de jeux', 4, 130.5, 14),
       ('Appartement 10', 'Appartement rénové avec charme', 2, 55.0, 15),
       ('Appartement 11', 'Loft moderne près de la Tour Eiffel', 3, 95.3, 16),
       ('Appartement 12', 'Appartement avec terrasse panoramique', 4, 110.5, 17),
       ('Appartement 13', 'Chic appartement dans le quartier Latin', 2, 70.8, 18),
       ('Appartement 14', 'Appartement avec vue sur les toits de Paris', 3, 85.0, 19),
       ('Appartement 15', 'Appartement spacieux près de Montparnasse', 5, 180.2, 20),
       ('Appartement 16', 'Studio confortable dans le Marais', 1, 42.0, 21),
       ('Appartement 17', 'Appartement avec cheminée d''époque', 4, 110.0, 22),
       ('Appartement 18', 'Duplex moderne avec piscine commune', 3, 95.5, 23),
       ('Appartement 19', 'Appartement lumineux avec vue sur Montmartre', 2, 60.2, 24),
       ('Appartement 20', 'Appartement avec terrasse sur les toits', 3, 75.0, 25),
       ('Appartement 21', 'Bel appartement proche des commerces', 2, 55.8, 26),
       ('Appartement 22', 'Loft industriel dans le 11e arrondissement', 5, 160.5, 27),
       ('Appartement 23', 'Appartement avec vue sur le jardin des Tuileries', 3, 90.0, 28),
       ('Appartement 24', 'Appartement design avec mobilier haut de gamme', 4, 125.7, 29),
       ('Appartement 25', 'Appartement rénové avec charme ancien', 2, 65.5, 30),
       ('Appartement 26', 'Chic appartement dans le quartier du Marais', 3, 85.3, 31),
       ('Appartement 27', 'Appartement avec cheminée et parquet', 2, 70.0, 32),
       ('Appartement 28', 'Duplex lumineux avec grandes baies vitrées', 4, 115.2, 33),
       ('Appartement 29', 'Appartement avec vue sur la cathédrale Notre-Dame', 3, 92.5, 34),
       ('Appartement 30', 'Studio moderne avec kitchenette', 1, 45.0, 35),
       ('Appartement 31', 'Appartement familial avec salle de jeux', 4, 135.0, 36),
       ('Appartement 32', 'Loft spacieux avec hauteur sous plafond', 3, 100.7, 37),
       ('Appartement 33', 'Appartement avec accès au jardin commun', 2, 58.5, 38),
       ('Appartement 34', 'Appartement avec vue sur le canal Saint-Martin', 3, 78.0, 39),
       ('Appartement 35', 'Appartement avec terrasse panoramique', 5, 175.8, 40),
       ('Appartement 36', 'Studio élégant avec vue sur la Tour Eiffel', 1, 42.5, 41),
       ('Appartement 37', 'Appartement avec jardin privé', 3, 95.2, 42),
       ('Appartement 38', 'Duplex moderne avec bureau à domicile', 4, 120.0, 43),
       ('Appartement 39', 'Appartement avec vue sur le Louvre', 2, 68.5, 44),
       ('Appartement 40', 'Appartement lumineux dans le quartier des Invalides', 3, 88.3, 45),
       ('Appartement 41', 'Appartement lumineux', 3, 88.3, 46),
       ('Maison 21', 'Belle maison avec jardin spacieux', 5, 200.0, 47),
       ('Studio 11', 'Studio moderne au centre-ville', 1, 40.0, 48),
       ('Appartement 42', 'Appartement élégant avec balcon', 4, 120.5, 49),
       ('Maison 22', 'Maison de campagne avec piscine', 6, 280.0, 50),
       ('Studio 12', 'Studio confortable avec kitchenette', 1, 35.5, 51),
       ('Appartement 43', 'Appartement spacieux avec vue sur la mer', 3, 95.0, 52),
       ('Maison 23', 'Grande maison familiale avec terrasse', 7, 320.0, 53),
       ('Studio 13', 'Studio pratique avec salle de bains attenante', 1, 38.0, 54),
       ('Appartement 44', 'Appartement moderne en centre-ville', 2, 78.5, 55),
       ('Maison 24', 'Maison de ville avec jardin privé', 4, 180.0, 56),
       ('Studio 14', 'Studio lumineux avec fenêtres panoramiques', 1, 42.0, 57),
       ('Appartement 45', 'Appartement de luxe avec services', 3, 110.0, 58),
       ('Maison 25', 'Maison contemporaine avec design unique', 5, 240.0, 59),
       ('Studio 15', 'Studio économique pour étudiants', 1, 32.0, 60),
       ('Appartement 46', 'Appartement avec terrasse et vue sur le parc', 2, 88.0, 61),
       ('Maison 26', 'Maison chaleureuse avec cheminée', 4, 160.0, 62),
       ('Studio 16', 'Studio meublé avec équipement moderne', 1, 36.5, 63),
       ('Appartement 47', 'Appartement contemporain avec balcon', 3, 105.5, 64),
       ('Maison 27', 'Maison de style victorien avec jardin', 6, 280.0, 65),
       ('Maison 28', 'Maison avec jardin', 6, 280.0, 66);

INSERT INTO property_owner (acquisition_date, main, fk_owner, fk_property)
VALUES ('1980-01-01', true, 1, 5),
       ('1978-05-15', false, 1, 6),
       ('1976-09-22', true, 1, 7),
       ('1975-03-10', false, 1, 8),
       ('1973-11-18', true, 1, 9),
       ('1971-07-07', false, 1, 10),
       ('1969-12-25', true, 1, 11),
       ('1968-06-30', false, 1, 12),
       ('1966-02-14', true, 1, 13),
       ('1964-10-03', false, 1, 14),
       ('1963-04-20', true, 1, 15),
       ('1961-08-28', false, 1, 16),
       ('1959-01-05', true, 1, 17),
       ('1957-07-12', false, 1, 18),
       ('1956-03-21', true, 1, 19),
       ('1954-11-08', false, 1, 20),
       ('1952-09-17', true, 1, 21),
       ('1950-04-02', false, 1, 22),
       ('1948-12-11', true, 1, 23),
       ('1947-06-26', false, 1, 24),
       ('1945-02-14', true, 1, 25),
       ('1943-10-01', false, 1, 26),
       ('1942-04-18', true, 1, 27),
       ('1940-08-29', false, 1, 28),
       ('1938-01-06', true, 1, 29),
       ('1936-07-23', false, 1, 30),
       ('1935-03-10', true, 1, 31),
       ('1933-11-18', false, 1, 32),
       ('1932-05-25', true, 1, 33),
       ('1930-09-30', false, 1, 34),
       ('1928-04-07', true, 1, 35),
       ('1926-12-15', false, 1, 36),
       ('1925-06-22', true, 1, 37),
       ('1923-02-01', false, 1, 38),
       ('1921-10-09', true, 1, 39),
       ('1920-04-18', false, 1, 40),
       ('1921-04-18', false, 1, 41),
       ('1925-04-18', true, 1, 42),
       ('1928-04-18', true, 1, 43),
       ('1952-04-18', false, 1, 44),
       ('1983-01-01', true, 1, 45),
       ('1981-02-15', false, 1, 46),
       ('1979-04-22', true, 1, 47),
       ('1977-06-10', false, 1, 48),
       ('1975-09-18', true, 1, 49),
       ('1973-11-07', false, 1, 50),
       ('1971-12-25', true, 1, 51),
       ('1969-03-30', false, 1, 52),
       ('1967-05-14', true, 1, 53),
       ('1965-07-20', false, 1, 54),
       ('1963-09-12', true, 1, 55),
       ('1961-11-28', false, 1, 56),
       ('1959-02-02', true, 1, 57),
       ('1957-04-15', false, 1, 58),
       ('1955-07-01', true, 1, 59),
       ('1953-09-22', false, 1, 60),
       ('1951-12-05', true, 1, 61),
       ('1949-02-10', false, 1, 62),
       ('1947-04-18', true, 1, 63),
       ('1945-07-26', false, 1, 64);

INSERT INTO sales_history (date_of_sale, price, fk_property_owner)
VALUES ('1987-02-15', 422567.0, 2),
       ('1988-04-22', 537289.0, 3),
       ('1989-06-10', 698345.0, 4),
       ('1991-09-18', 845123.0, 5),
       ('1991-11-07', 997432.0, 6),
       ('1993-12-25', 1156345.0, 7),
       ('1995-03-30', 1320678.0, 8),
       ('1996-05-14', 475123.0, 9),
       ('1995-07-20', 662987.0, 10),
       ('1997-09-12', 1824356.0, 11),
       ('1997-11-28', 998789.0, 12),
       ('1999-02-02', 2157432.0, 13),
       ('1999-04-15', 305123.0, 14),
       ('1998-07-01', 476234.0, 15),
       ('2001-09-22', 625123.0, 16),
       ('2001-12-05', 2803567.0, 17),
       ('2003-02-10', 2984789.0, 18),
       ('2003-04-18', 3156789.0, 19),
       ('2003-07-26', 3320123.0, 20),
       ('2005-10-03', 378234.0, 21),
       ('2005-01-15', 3654123.0, 22),
       ('2007-03-22', 827123.0, 23),
       ('2007-06-10', 389123.0, 24),
       ('2009-09-28', 4165234.0, 25),
       ('2004-12-12', 431123.0, 26),
       ('2011-02-20', 453567.0, 27),
       ('2011-04-30', 467123.0, 28),
       ('2012-07-08', 485123.0, 29),
       ('2013-09-16', 503823.0, 30),
       ('2013-11-24', 522123.0, 31),
       ('2015-02-03', 584789.0, 32),
       ('2015-04-12', 550123.0, 33),
       ('2015-06-22', 573456.0, 34),
       ('2017-09-01', 588123.0, 35),
       ('2017-11-11', 654123.0, 36),
       ('2019-01-21', 620123.0, 37),
       ('2019-03-02', 638123.0, 38),
       ('2019-05-13', 655123.0, 39),
       ('2023-07-24', 672123.0, 40),
       ('1987-01-01', 682123.0, 41),
       ('1989-02-15', 756123.0, 42),
       ('1991-04-22', 718123.0, 43),
       ('1993-06-10', 792123.0, 44),
       ('1995-09-18', 750123.0, 45),
       ('1997-11-07', 704123.0, 46),
       ('1999-12-25', 780123.0, 47),
       ('2001-03-30', 836123.0, 48),
       ('2003-05-14', 810123.0, 49),
       ('2005-07-20', 856123.0, 50),
       ('2007-09-12', 859123.0, 51),
       ('2009-11-28', 8685123.0, 52),
       ('2011-02-02', 8839123.0, 53),
       ('2013-04-15', 8993123.0, 54),
       ('2015-07-01', 9165123.0, 55),
       ('2017-09-22', 9320123.0, 56),
       ('2019-12-05', 9487123.0, 57),
       ('2021-02-10', 9650123.0, 58),
       ('2022-04-18', 9813123.0, 59),
       ('2008-04-18', 9991123.0, 60),
       ('1985-01-01', 315678.0, 61);
